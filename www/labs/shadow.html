<!DOCTYPE html>
<html>
<body style="margin:0; overflow:hidden; background:#fff; height:100vh;">
    <canvas id="canvas"></canvas>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        window.addEventListener('pointermove', (e) => {
            if (e.pointerType === 'pen') {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                const x = e.clientX;
                const y = e.clientY;
                
                // Calculate "Pen Altitude" (how high the tail is)
                // We use tiltY as a proxy for shadow length
                const shadowLen = Math.abs(e.tiltY) * 2;
                const shadowWidth = 10 + (e.pressure * 20);

                // Draw the "Contact Point" (The Tip)
                ctx.beginPath();
                ctx.arc(x, y, 2, 0, Math.PI * 2);
                ctx.fill();

                // Draw the Shadow (The Lean)
                ctx.beginPath();
                ctx.ellipse(x + (e.tiltX / 2), y + (e.tiltY / 2), shadowWidth, shadowLen, (e.tiltX * Math.PI / 180), 0, Math.PI * 2);
                ctx.fillStyle = "rgba(0,0,0,0.2)"; // Low opacity for E-Ink grey
                ctx.fill();
            }
        });
    </script>
</body>
</html>

